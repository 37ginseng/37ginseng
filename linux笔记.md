# 基础命令

zip unzip

poweroff

ps -ef 

stat

ifconfig: 查看ip

reboot

halt

shutdown -h now

 [^ls] 
whatis
--help
man
info
[^mkdir] 
[^cd]
[^pwd]
[^rmdir]
[^cp] 
[^mv]
[^rm]
[^du] 
[^find] 
 [^touch]
[^cat]
[^tac]
[^more]
[^less]
[^head]
[^tail]
wc
cut
sort
uniq

which [命令]: 查看命令所在位置

locate

通配符 * 0个或多个; ?: 一个字符; []字符集中的一个,与python正则相似

 [^tar]

 [^grep]

 [^|]

 [^xargs]

whoami

who

stat    Linux 系统中，每个文件主要拥有 3 个时间参数（通过 stat 命令进行查看）

YUM常用命令行命令：（以fname-x.x.x.rpm为例）

查看软件包：yum list fname 

安装软件包： yum install fname-x.x.x.rpm

删除软件：yum remove fname-x.x.x.rpm

  或者  yum erase fname-x.x.x.rpm

升级软件：yum upgrade fname

 或者  yum update fname

查询信息：yum info fname

搜索软件：yum search fname

显示软件包依赖关系： yum deplist fname

用yum安装包有时候会提示

```
Another app is currently holding the yum lock; waiting for it to exit...
  The other application is: PackageKit
    Memory : 128 M RSS (439 MB VSZ)
    Started: Fri Aug 28 08:08:31 2015 - 48:25 ago
    State  : Sleeping, pid: 3462

```
解决方法：

```
rm -f /var/run/yum.pid
```
然后重新执行yum就可以了

| 快捷键    | 功能                                                         |
| --------- | ------------------------------------------------------------ |
| u（小写） | undo 的第 1 个字母，功能是撤销最近一次对文本做的修改操作。   |
| Ctrl+R    | Redo 的第 1 个字母，功能是恢复最近一次所做的撤销操作。       |
| U（大写） | 第一次会撤销对一行文本（光标所在行）做过的全部操作，第二次使用该命令会恢复对该行文本做过的所有操作。 |


# 账户管理
####  1.useradd

 [^useradd] -m sanqi 创建用户，同时创建用户主目录

*参数说明*：

- -c<备注> 　加上备注文字。备注文字会保存在passwd的备注栏位中。
- -d<登入目录> 　指定用户登入时的起始目录。
- -D 　变更预设值．
- -e<有效期限> 　指定帐号的有效期限。
- -f<缓冲天数> 　指定在密码过期后多少天即关闭该帐号。
- -g<群组> 　指定用户所属的群组。
- -G<群组> 　指定用户所属的附加群组。
- -m 　自动建立用户的登入目录。
- -M 　不要自动建立用户的登入目录。
- -n 　取消建立以用户名称为名的群组．
- -r 　建立系统帐号。
- -s<shell>　 　指定用户登入后所使用的shell。
- -u<uid> 　指定用户ID。

#### 2.passwd

 [^passwd] iqi 更改用户iqi的密码

*参数*：

- -d 删除密码
- -f 强迫用户下次登录时必须修改口令
- -w 口令要到期提前警告的天数
- -k 更新只能发送在过期之后
- -l 停止账号使用
- -S 显示密码信息
- -u 启用已被停止的账户
- -x 指定口令最长存活期
- -g 修改群组密码

#### 3.groupadd

 [^groupadd] -g GID 

*参数说明*：

- -g：指定新建工作组的 id；
- -r：创建系统工作组，系统工作组的组ID小于 500；
- -K：覆盖配置文件 "/ect/login.defs"；
- -o：允许添加组 ID 号不唯一的工作组。
- -f,--force: 如果指定的组已经存在，此选项将失明了仅以成功状态退出。当与 -g 一起使用，并且指定的GID_MIN已经存在时，选择另一个唯一的GID（即-g关闭）。

#### 4.gpasswd

 [^gpasswd] 

*参数*：

- -a：添加用户到组；
- -d：从组删除用户；
- -A：指定管理员；
- -M：指定组成员和-A的用途差不多；
- -r：删除密码；
- -R：限制用户登入组，只有组中的成员才可以用newgrp加入该组。

#### 5.usermod

 [^usermod] -g root iqi修改用户sanqi的组为root

*参数说明*：

- -c<备注> 　修改用户帐号的备注文字。
- -d登入目录> 　修改用户登入时的目录。
- -e<有效期限> 　修改帐号的有效期限。
- -f<缓冲天数> 　修改在密码过期后多少天即关闭该帐号。
- -g<群组> 　修改用户所属的群组。
- -G<群组> 　修改用户所属的附加群组。
- -l<帐号名称> 　修改用户帐号名称。
- -L 　锁定用户密码，使密码无效。
- -s\<shell> 　修改用户登入后所使用的shell。
- -u\<uid> 　修改用户ID。
- -U 　解除密码锁定。

#### 6.id

 [^id] sanqi 查看uid 和 gid 

*参数说明*：

- -g或--group 　显示用户所属群组的ID。
- -G或--groups 　显示用户所属附加群组的ID。
- -n或--name 　显示用户，所属群组或附加群组的名称。
- -r或--real 　显示实际ID。
- -u或--user 　显示用户ID。
- -help 　显示帮助。
- -version 　显示版本信息。

#### 7.userdel

 [^userdel] -r sanqi 删除用户及其主目录 -r 删除工作目录

*参数说明*：

- -r 　删除用户登入目录以及目录中所有文件。

#### 8.groupmod

 [^groupmod] -g 1004 iqi GID修改为1004

*参数*：

- -g <群组识别码> 　设置欲使用的群组识别码。
- -o 　重复使用群组识别码。
- -n <新群组名称> 　设置欲使用的群组名称。

#### 9.groupdel

 [^groupdel] sanqi :组删除    

#### 10.chsh

 [^chsh] 

#### 11.groups

 [^groups] 用户名 查看用户所属组



#### 相关文档

1. 用户相关文档 
    /etc/passwd
    /etc/shadow 加密的密码在这里
    隐藏文件以`.`开头

2. 组相关文档
/etc/group
/etc/gshadow 组用户密码在这里

# 账户权限

#### 1. chmod

chmod [-cfvR] [--help] [--version] mode file...

##### 文件权限与目录权限

1. 字符形式： chmod [ugoa] \[+-=][rwx] 文件或目录
   chmod u+x myfile1.con
2. 数字形式： chmod [0-7] 文件或目录
   如chmod 755 myfile1.con

##### set权限

1. 字符方式修改
   * 给文件添加suid 属性：chmod u+s filename
   
   * 给文件夹加上sgid属性：chmod g+s directoryname
   
   * 给文件夹加上sticky属性：chmod o+t directoryname
   
2. 数字方式修改
   suid,sgid,sticky同样对应着4,2,1三位数字。
   * 给文件添加suid 属性：chmod 4777 filename
   * 给文件夹加上sgid属性：chmod 2777 directoryname
   * 给文件夹加上sticky属性：chmod 1777 directoryname


##### 参数

- -c : 若该文件权限确实已经更改，才显示其更改动作
- -f : 若该文件权限无法被更改也不要显示错误讯息
- -v : 显示权限变更的详细资料
- -R : 对目前目录下的所有文件与子目录进行相同的权限变更(即以递归的方式逐个变更)
- --help : 显示辅助说明
- --version : 显示版本



##### permission 的符号模式表:

| 模式 | 名字         | 说明                                                         |
| :--- | :----------- | :----------------------------------------------------------- |
| `r`  | 读           | 设置为可读权限                                               |
| `w`  | 写           | 设置为可写权限                                               |
| `x`  | 执行权限     | 设置为可执行权限                                             |
| `X`  | 特殊执行权限 | 该设置使文件在执行阶段具有文件所有者的权限。                 |
| `s`  | setuid/gid   | 该权限只对目录有效。目录被设置该位后，任何用户在此目录下创建的文件都具有和该目录所属的组相同的组。 |
| `t`  | 粘贴位       | 如果希望用户能够添加文件但同时不能删除文件，则可以对文件使用sticky bit位。设置该位后，就算用户对目录具有写权限，也不能删除该文件。 |


* **访问权限**

  1. r:readable 读取
  2. w:writable 写入
  3. x:excutable 可执行

* **归属（所用权）**

  1. u：属主
  2. g：属组
  3. o：其他
  4. a：所用

* **文件类型**

  1. d：目录
  2. -：文件
  3. l：连接文件

* **权限二进制转换十进制**
  rw- =>  (110)b  =>  (6)D

  

#### 2.chown

设置文件或目录的归属

chown -R（递归修改指定目录的所用文件和子目录的归属）
格式：chown 属主:属组 文件或目录
	chown 属主 文件或目录
	chown :属组 文件或目录
例：修改f.txt的属主和属组
	chown sanqi:sanqi f.txt

chown new_user file or directory：修改文件或目录的所有者。

#### 3.chgrp


chgrp new_group file or directory：修改文件或目录的所属组。

设置文件和目录的生成掩码

#### 4.umask

umask [-s] [u1u2u3] :修改是临时的
	u1表示不允许属主具有的权限
	u2表示不允许同组的人具有的权限
	u3表示不允许其他人具有的权限
	默认的权限就是用777减去umask值，如结果为664

#### 5.getfacl

```
getfacl [参数] [目录或文件]
```

*-----常用参数说明------*

-a:显示文件的ACL

-d:显示默认的ACL

-c:不显示注释标题

-e:显示所有的有效权限

-E:显示没有的有效权限

-s:跳过文件，只具有基本条目

-R:递归到子目录

-t:使用表格输出格式

-n:显示用户的UID和组群的GID

#### 6.setfacl

```
用法: setfacl [-bkndRLP] { -m|-M|-x|-X ... } file ...
```

示例：
setfacl -m m:权限文件名，设置mask
给用户设定ACL权限: setfacl -m u:用户名:权限指定文件名
给用户组设定ACL权限:setfacl -m g:组名:权限指定文件名
setfacl -m u:用户名:权限-R文件名
setfacl -m u:bill:x /bin/bash 给于用户 bill 有执行的权限

*参数：*
  -m, --modify=acl 更改文件的访问控制列表
  -M, --modify-file=file 从文件读取访问控制列表条目更改
  -x, --remove=acl 根据文件中访问控制列表移除条目
  -X, --remove-file=file 从文件读取访问控制列表条目并删除
  -b, --remove-all 删除所有扩展访问控制列表条目
  -k, --remove-default 移除默认访问控制列表
      --set=acl 设定替换当前的文件访问控制列表
      --set-file=file 从文件中读取访问控制列表条目设定
      --mask 重新计算有效权限掩码
  -n, --no-mask 不重新计算有效权限掩码
  -d, --default 应用到默认访问控制列表的操作
  -R, --recursive 递归操作子目录
  -L, --logical 依照系统逻辑，跟随符号链接
  -P, --physical 依照自然逻辑，不跟随符号链接
      --restore=file 恢复访问控制列表，和“getfacl -R”作用相反
      --test 测试模式，并不真正修改访问控制列表属性
  -v, --version           显示版本并退出
  -h, --help              显示本帮助信息

#### set 权限

高级权限有3个，SUID、SGID、Sticky ，他们借用了原本文件的执行位。

SUID该设置使文件在执行阶段具有文件所有者的权限

SUID权限中的s有大小写之分，如果强行给普通文件添加s权限，那么显示的其实是大写的S，因为普通文件没有x权限，这样显示的suid其实没什么用，因为它并不是可执行文件。

SGID (setgid)：该权限只对目录有效。目录被设置该位后，任何用户在此目录下创建的文件都具有和该目录所属的组相同的组

sticky (sticky bit)：该位可以理解为防删除位。设置该位后，就算用户对目录具有写权限，也不能删除该文件。只有root和自己才能够删除文件.

#### acl 权限

getfacl命令来查看一个定义好了的ACL文件newfile

setfacl命令可以识别以下的规则格式：

```shell
[d[efault]:] [u[ser]:]uid [:perms]  指定用户的权限，文件所有者的权限（如果uid没有指定）。
[d[efault]:] g[roup]:gid [:perms]   指定群组的权限，文件所有群组的权限（如果gid未指定）
[d[efault]:] m[ask][:] [:perms]     有效权限掩码
[d[efault]:] o[ther] [:perms]       其他的权限
```

# 文件系统

Linux 系统中，文件和目录的命名规则如下：

1. 除了字符“/”之外，所有的字符都可以使用，但是要注意，在目录名或文件名中，使用某些特殊字符并不是明智之举。例如，在命名时应避免使用 <、>、？、* 和非打印字符等。如果一个文件名中包含了特殊字符，例如空格，那么在访问这个文件时就需要使用引号将文件名括起来。

2. 目录名或文件名的长度不能超过 255 个字符。

3. 目录名或文件名是区分大小写的。如 DOG、dog、Dog 和 DOg ，是互不相同的目录名或文件名，但使用字符大小写来区分不同的文件或目录，也是不明智的。

4. 与 Windows 操作系统不同，文件的扩展名对 Linux 操作系统没有特殊的含义，换句话说，Linux 系统并不以文件的扩展名开分区文件类型。例如，dog.exe 只是一个文件，其扩展名 .exe 并不代表此文件就一定是可执行文件。

5. Linux 系统中常见硬件设备的文件名。

   

   | 硬件设备      | 文件名称                                                     |
   | ------------- | ------------------------------------------------------------ |
   | IDE设备       | /dev/hd[a-d]，现在的 IDE设备已经很少见了，因此一般的硬盘设备会以 /dev/sd 开头。 |
   | SCSI/SATA/U盘 | /dev/sd[a-p]，一台主机可以有多块硬盘，因此系统采用 a~p 代表 16 块不同的硬盘。 |
   | 软驱          | /dev/fd[0-1]                                                 |
   | 打印机        | /dev/lp[0-15]                                                |
   | 光驱          | /dev/cdrom                                                   |
   | 鼠标          | /dev/mouse                                                   |
   | 磁带机        | /dev/st0 或 /dev/ht0                                         |

在Windows系统中硬盘分区通常都是采用FAT32或NTFS文件系统，而在Linux系统中支持几十种文件系统，常见的文件系统有ext2、ext3、ext4、vfat、xfs等，Linux系统目前硬盘分区通常采用ext3或ext4文件系统。

ext2具有极快的速度和极小的CPU占用率，可用于硬盘和移动存储设备

ext3增加日志功能，可回溯追踪，提供更好的安全性

ext4日志式文件系统，支持1EB（1024*1024TB），最大单文件16TB，支持连续写入可减少文件碎片。rhel6默认文件系统就是ext4。

xfs可以管理500T的硬盘。rhel7和CentOS7默认都是xfs文件系统。

brtfs文件系统针对固态盘做优化

## 查看分区文件系统

1. df -T

2. parted -l

3. blkid命令查看

4. 命令lsblk -f 查看. 有些系统可能没有这个命令，需要安装. lsblk 会显示块设备，当使用 -f 选项时，它也会打印分区的文件系统类型

5. 使用 fsck 命令

   fsck 用来检查以及修复 Linux 文件系统，它也可以输出指定磁盘分区的文件系统类型。

   -N 标志禁用检查文件系统错误，它只是显示会做什么（但是我们只需要文件系统类型）

6. 使用 mount 命令

   mount 命令用来在 Linux 中挂载文件系统，它也可以用来挂载一个 ISO 镜像，挂载远程 Linux 文件系统等等。

   当不带任何参数运行时，它会打印包含文件系统类型在内的磁盘分区的信息.

7. 使用 file 命令

   file 命令会识别文件类型，使用 -s 标志启用读取块设备或字符设备，-L 启用符号链接跟随：

   $ sudo file -sL /dev/sda3

8. 使用 fstab 文件

   /etc/fstab 是一个静态文件系统信息（比如挂载点、文件系统类型、挂载选项等等）文件：

   $ cat /etc/fstab

| 目录        | 应放置档案内容                                               |
| ----------- | ------------------------------------------------------------ |
| /bin        | 系统有很多放置执行档的目录，但/bin比较特殊。因为/bin放置的是在单人维护模式下还能够被操作的指令。在/bin底下的指令可以被root与一般帐号所使用，主要有：cat,chmod(修改权),chown,date,mv,mkdir,cp,bash等等常用的指令。 |
| /boot       | 主要放置开机会使用到的档案，包括Linux核心档案以及开机选单与开机所需设定档等等。Linux kernel常用的档名为：vmlinuz，如果使用的是grub这个开机管理程式，则还会存在/boot/grub/这个目录。 |
| /dev        | 在Linux系统上，任何装置与周边设备都是以档案的型态存在于这个目录当中。只要通过存取这个目录下的某个档案，就等于存取某个装置。比要重要的档案有/dev/null,/dev/zero,/dev/tty,/dev/lp*,/dev/hd*,/dev/sd*等等 |
| /etc        | 系统主要的设定档几乎都放置在这个目录内，例如人员的帐号密码档、各种服务的启始档等等。一般来说，这个目录下的各档案属性是可以让一般使用者查阅的，但是只有root有权力修改。FHS建议不要放置可执行档(binary)在这个目录中。比较重要的档案有：/etc/inittab,/etc/init.d/,/etc/modprobe.conf,/etc/X11/,/etc/fstab,/etc/sysconfig/等等。另外，其下重要的目录有：/etc/init.d/：所有服务的预设启动script都是放在这里的，例如要启动或者关闭iptables的话：/etc/init.d/iptables start、/etc/init.d/iptablesstop/etc/xinetd.d/：这就是所谓的super daemon管理的各项服务的设定档目录。/etc/X11/：与XWindow有关的各种设定档都在这里，尤其是xorg.conf或XF86Config这两个XServer的设定档。 |
| /home       | 这是系统预设的使用者家目录(home directory)。在新增一个一般使用者帐号时，预设的使用者家目录都会规范到这里来。比较重要的是，家目录有两种代号：~：代表当前使用者的家目录，而~guest：则代表用户名为guest的家目录。 |
| /lib        | 系统的函数库非常的多，而/lib放置的则是在开机时会用到的函数库，以及在/bin或/sbin底下的指令会呼叫的函数库而已。什么是函数库呢？妳可以将他想成是外挂，某些指令必须要有这些外挂才能够顺利完成程式的执行之意。尤其重要的是/lib/modules/这个目录，因为该目录会放置核心相关的模组(驱动程式)。 |
| /media      | media是媒体的英文，顾名思义，这个/media底下放置的就是可移除的装置。包括软碟、光碟、DVD等等装置都暂时挂载于此。常见的档名有：/media/floppy, /media/cdrom等等。 |
| /mnt        | 如果妳想要暂时挂载某些额外的装置，一般建议妳可以放置到这个目录中。在古早时候，这个目录的用途与/media相同啦。只是有了/media之后，这个目录就用来暂时挂载用了。 |
| /opt        | 放置第三方的软件。这个是给第三方可选文件和程序的放置目录。自定义软件包或用户自己编译的软件包，也可以安装在这个目录中。不过，以前的Linux系统中，还是习惯放置在/usr/local目录下。 |
| /root       | 系统管理员(root)的家目录。之所以放在这里，是因为如果进入单人维护模式而仅挂载根目录时，该目录就能够拥有root的家目录，所以我们会希望root的家目录与根目录放置在同一个分区中。 |
| /sbin       | 开机过程中需要的命令。Linux有非常多指令是用来设定系统环境的，这些指令只有root才能够利用来设定系统，其他使用者最多只能用来查询而已。放在/sbin底下的为开机过程中所需要的，里面包括了开机、修复、还原系统所需要的指令。至于某些服务器软件程序，一般则放置到/usr/sbin/当中。至于本机自定义安装的软件所产生的系统执行文件(system binary)，则放置到/usr/local/sbin/当中了。常见的指令包括：fdisk,fsck,ifconfig,init,mkfs等等。 |
| /tmp        | 任何人均可使用的“共享”临时目录。这是让一般使用者或者是正在执行的程序暂时放置档案的地方。这个目录是任何人都能够存取的，所以你需要定期的清理一下。当然，重要资料不可放置在此目录啊。因为FHS甚至建议在开机时，应该要将/tmp下的资料都删除。 |
| /usr/local  | 用户自行安装的软件                                           |
| /usr/sbin   | Linux系统开机时不会使用到的软件/命令/脚本                    |
| /proc       | 虚拟文件系统，如系统内核、进程、外部设备及网络状态等         |
| /var        | 主要存放经常变化的文件，如日志                               |
| /lost+found | 当文件系统发生错误时，将一些丢失的文件片段存放在这里         |

# 添加磁盘

将一个文件系统的顶层目录挂到另一个文件系统的子目录上，使它们成为一个整体，称为挂载。把该子目录称为挂载点.

**注意：**

1、挂载点必须是一个目录。

2、一个分区挂载在一个已存在的目录上，这个目录可以不为空，但挂载后这个目录下以前的内容将不可用。   

1. 编辑虚拟机设置, 添加新虚拟磁盘
2. 重启虚拟机
3. 格式化, 设置文件系统
4. 挂载到目录(/mnt)
5. 修改/ect/profile



<img src="D:\图片\学习资料\磁盘管理.png" alt="alt" style="zoom:80%;" />

查看分区信息

```linux
fdisk -l
```

分区信息各字段的含义

设备：分区的设备文件名称。

Boot：是否是引导分区。是，则带有“*”标识

Start： 该分区在硬盘中的起始位置（柱面数）。

End：该分区在硬盘中的结束位置（柱面数）。

Blocks：分区的大小。

Id：分区类型的ID标记号，对于ext4分区为83，LVM分共为8e。

System：分区类型。“Linux”代表ext4文件系统，“Linux LVM”代表逻辑卷。

# 脚注区

## 基础命令

[^tar]:{参数:c ：建立一个压缩文件的参数指令(create 的意思)       -x ：解开一个压缩文件的参数指令！    -t ：查看 tarfile 里面的文件！特别注意，在参数的下达中， c/x/t 仅能存在一个！不可同时存在！因为不可能同时压缩与解压缩。     -z ：是否同时具有 gzip 的属性？亦即是否需要用 gzip 压缩？     -j ：是否同时具有 bzip2 的属性？亦即是否需要用 bzip2 压缩？     -v ：压缩的过程中显示文件！这个常用，但不建议用在背景执行过程！    -f ：使用档名，请留意，在 f 之后要立即接档名喔！不要再加参数！     -p ：使用原文件的原来属性（属性不会依据使用者而变）    -P ：可以使用绝对路径来压缩！    -N ：比后面接的日期(yyyy/mm/dd)还要新的才会被打包进新建的文件中！     --exclude FILE：在压缩的过程中，不要将 FILE 打包！}
[^ls]:-i: 显示文件id; -a: 显示隐藏文件; -l: 详细信息, 简写为 ll; -h: 以KB, MB等带单位的方式显示文件大小。     ^ ** ls -l 显示格式的框架：**文件类型 属主权限 属组权限 其他人权限 所用人（包含匿名用户权限）属主名 属组名 文件大小 文件创建时间 文件名/目录名

[^grep]: 搜索文件里符合条件的内容 正则表达式 文件名 如:  grep ^'#' 123.txt grep 'y'$ 126.txt 

[^mkdir]:mkdir [-p] dirName # -p 确保目录名称存在，不存在的就建一个。

[^cd]:cd [dirName] #直接cd 或 cd ~返回家目录;   cd - 返回上次工作目录
[^pwd]:显示目前所在的工作目录的绝对路径名称。
[^rmdir]:rmdir [-p] dirName #-p 是当子目录被删除后使它也成为空目录的话，则顺便一并删除。
[^cp]:[选项] 来源 目标文件或目录  #参数说明：-a：此选项通常在复制目录时使用，它保留链接、文件属性，并复制目录下的所有内容。其作用等于dpR参数组合。-d：复制时保留链接。这里所说的链接相当于 Windows 系统中的快捷方式。-f：覆盖已经存在的目标文件而不给出提示。-i：与 -f 选项相反，在覆盖目标文件之前给出提示，要求用户确认是否覆盖，回答 y 时目标文件将被覆盖。-p：除复制文件的内容外，还把修改时间和访问权限也复制到新文件中。-r：若给出的源文件是一个目录文件，此时将复制该目录下所有的子目录和文件。-l：不复制文件，只是生成链接文件
[^mv]:[选项] 来源 目标文件或目录   #参数说明：-b: 当目标文件或目录存在时，在执行覆盖前，会为其创建一个备份。-i: 如果指定移动的源目录或文件与目标的目录或文件同名，则会先询问是否覆盖旧文件，输入 y 表示直接覆盖，输入 n 表示取消该操作。--f: 如果指定移动的源目录或文件与目标的目录或文件同名，不会询问，直接覆盖旧文件。-n: 不要覆盖任何已存在的文件或目录。--u：当源文件比目标文件新或者目标文件不存在时，才执行移动操作。
[^rm]:rm [options] name...    #参数：-i 删除前逐一询问确认。-f 即使原档案属性设为唯读，亦直接删除，无需逐一确认。-r 将目录及以下之档案亦逐一删除。

[^du]:查看文件或目录大小       ^  -h或--human-readable 以K，M，G为单位，提高信息的可读性。     ^  -c或--total 除了显示个别目录或文件的大小外，同时也显示所有目录或文件的总和。    ^  -a或-all 显示目录中个别文件的大小。

[^find]: path   -option	用引号包裹表一个文件, 可用于含有空格的情况.      ^    -name name,       ^   -iname name : 文件名称符合 name 的文件。iname 会忽略大小写

[^touch]:touch命令用于修改文件或者目录的时间属性，包括存取时间和更改时间。若文件不存在，系统会建立一个新的文件。访问时间（Access Time，简称 atime）：只要文件的内容被读取，访问时间就会更新。例如，使用 cat 命令可以查看文件的内容，此时文件的访问时间就会发生改变。数据修改时间（Modify Time，简称 mtime）：当文件的内容数据发生改变，此文件的数据修改时间就会跟着相应改变。状态修改时间（Change Time，简称 ctime）：当文件的状态发生变化，就会相应改变这个时间。比如说，如果文件的权限或者属性发生改变，此时间就会相应改变。
[^cat]:用于连接文件并打印到标准输出设备上**-n 或 --number**：由 1 开始对所有输出的行数编号。**-b 或 --number-nonblank**：和 -n 相似，只不过对于空白行不编号。

[^tac]:将文件全部内容从尾到头反向连续输出到标准输出(屏幕)上
[^more]:more 命令类似 cat ，不过会以一页一页的形式显示，更方便使用者逐页阅读，而最基本的指令就是按空白键（space）就往下一页显示，按 b 键就会往回（back）一页显示，而且还有搜寻字串的功能（与 vi 相似），使用中的说明文件，请按 h 。    ^   -num 一次显示的行数    ^  -s 当遇到有连续两行以上的空白行，就代换为一行的空白行.
[^less]:less 与 more 类似，less 可以随意浏览文件，支持翻页和搜索，支持向上翻页和向下翻页.    ^  -s 显示连续空行为一行    ^  -N 显示每行的行号
[^head]:head [参数] [文件] .    ^  -c<数目> 显示的字节数。    ^  -n<行数> 显示的行数。
[^tail]:tail 命令可用于查看文件的内容，有一个常用的参数 **-f** 常用于查阅正在改变的日志文件。**tail -f filename** 会把 filename 文件里的最尾部的内容显示在屏幕上，并且不断刷新，只要 filename 更新就可以看到最新的文件内容。**-c<数目>** 显示的字节数     **-n<行数>** 显示文件的尾部 n 行内容

[^chsh]:chsh chsh命令用于更改使用者 shell 设定。使用权限：所有使用者 查看shell:chsh -l

[^|]:把一个命令的输出 通过管道连接 作为另一个命令的输入 输出就是命令的结果，输入一般是一个命令的参数（cat xxx.txt 这个txt就是cat的输入） 管道连接通过 | 建立。 grep -v ^'#' /etc/services | more ls -lh | grep 125 

[^xargs]:`somecommand |xargs -item  command`  参数移步脚注区          大多数命令都不接受标准输入作为参数，只能直接在命令行输入参数，这导致无法用管道命令传递参数。xargs后面的命令默认是echo。。
**参数：**

- -a file 从文件中读入作为 stdin
- -e flag ，注意有的时候可能会是-E，flag必须是一个以空格分隔的标志，当xargs分析到含有flag这个标志的时候就停止。
- -p 当每次执行一个argument的时候询问一次用户。
- -n num 后面加次数，表示命令在执行的时候一次用的argument的个数，默认是用所有的。
- -t 表示先打印命令，然后再执行。
- -i 或者是-I，这得看linux支持了，将xargs的每项名称，一般是一行一行赋值给 {}，可以用 {} 代替。
- -r no-run-if-empty 当xargs的输入为空的时候则停止xargs，不用再去执行了。
- -s num 命令行的最大字符数，指的是 xargs 后面那个命令的最大命令行字符数。
- -L num 从标准输入一次读取 num 行送给 command 命令。
- -l 同 -L。
- -d delim 分隔符，默认的xargs分隔符是回车，argument的分隔符是空格，这里修改的是xargs的分隔符。
- -x exit的意思，主要是配合-s使用。。
- -P 修改最大的进程数，默认是1，为0时候为as many as it can ，这个例子我没有想到，应该平时都用不到的吧。



## ops

> OPS 这项工作的细节内容包括：
>
> - 安装操作系统，例如 CentOS、Ubuntu 等。
> - 部署代码运行环境，例如网站后台语言采用 [PHP](http://c.biancheng.net/php/)，就需要安装 Nginx、Apache、[MySQL](http://c.biancheng.net/mysql/)、PHP 运行时等。
> - 及时修复漏洞，防止服务器被攻击，这包括 Linux 本身漏洞以及各个软件的漏洞。
> - 根据项目需求升级软件，例如 PHP 7.0 在性能方面获得了重大突破，如果现在服务器压力比较大，就可以考虑将旧版的 PHP 5.x 升级到 PHP 7.0。
> - 监控服务器压力，别让服务器宕机。例如淘宝双十一的时候就会瞬间涌入大量用户，导致部分服务器宕机，网页没法访问，甚至连支付宝都不能使用。
> - 分析日志，及时发现代码或者环境的问题，通知相关人员修复。
>



## 账户管理

[^useradd]:useradd \[-mMnr]\[-c <备注>]\[-d <登入目录>]\[-e <有效期限>][-f <缓冲天数>]\[-g <群组>]\[-G <群组>]\[-s ]\[-u ]\[用户帐号][-e <有效期限>]: 

[^passwd]:passwd [-k] [-l] [-u [-f]] [-d] [-S] [username]

[^usermod]:usermod \[-LU]\[-c <备注>]\[-d <登入目录>]\[-e <有效期限>]\[-f <缓冲天数>]\[-g <群组>]\[-G <群组>]\[-l <帐号名称>]\[-s ]\[-u ][用户帐号]
[^groupadd]:groupadd [-g gid [-o]] [-r] [-f] group
[^gpasswd]:gpasswd [可选项] 组名
[^id]:id \[-gGnru]\[--help]\[--version][用户名称]     id会显示用户以及所属群组的实际与有效ID。若两个ID相同，则仅显示实际ID。若仅指定用户名称，则显示目前用户的ID

[^userdel]:userdel \[-r][用户帐号]         userdel可删除用户帐号与相关的文件。若不加参数，则仅删除用户帐号，而不删除相关文件
[^groupmod]:groupmod \[-g <群组识别码> <-o>]\[-n <新群组名称>][群组名称]需要更改群组的识别码或名称时，可用groupmod指令来完成这项工作
[^groupdel]:groupdel [群组名称]     需要从系统上删除群组时，可用groupdel(group delete)指令来完成这项工作。倘若该群组中仍包括某些用户，则必须先删除这些用户后，方能删除群组。
[^groups]:groups用于查询当前用户的属组，没有参数。

